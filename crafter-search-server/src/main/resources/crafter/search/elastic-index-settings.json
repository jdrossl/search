{
  "settings": {
    "index": {
      "query": {
        "default_field": "_text_"
      }
    },
    "analysis": {
      "analyzer": {
        "html_analyzer" : {
          "type": "custom",
          "tokenizer": "standard",
          "char_filter": [
            "html_strip"
          ],
          "filter": [
            "lowercase"
          ]
        }
      }
    }
  },
  "mappings": {
    "descriptor": {
      "properties": {
        "_text_": {
          "type": "text"
        }
      },
      "dynamic_templates": [
        {
          "ints": {
            "match_pattern": "regex",
            "match": ".+_(i|is|imv)$",
            "mapping": {
              "type": "float"
            }
          }
        },
        {
          "floats": {
            "match_pattern": "regex",
            "match": ".+_(f|fs|fmv)$",
            "mapping": {
              "type": "float"
            }
          }
        },
        {
          "strings": {
            "match_pattern": "regex",
            "match": ".+_(s|ss|smv)$",
            "mapping": {
              "type": "keyword"
            }
          }
        },
        {
          "longs": {
            "match_pattern": "regex",
            "match": ".+_(l|ls|lmv)$",
            "mapping": {
              "type": "long"
            }
          }
        },
        {
          "texts": {
            "match_pattern": "regex",
            "match": ".+_(t|txt|en|html)$",
            "mapping": {
              "type": "text",
              "copy_to": "_text_",
              "analyzer": "html_analyzer"
            }
          }
        },
        {
          "booleans": {
            "match_pattern": "regex",
            "match": ".+_(b|bs|bmv)$",
            "mapping": {
              "type": "boolean"
            }
          }
        },
        {
          "doubles": {
            "match_pattern": "regex",
            "match": ".+_(d|ds|dmv)$",
            "mapping": {
              "type": "double"
            }
          }
        },
        {
          "date": {
            "match_pattern": "regex",
            "match": ".+_(dt|dts)$",
            "mapping": {
              "type": "date",
              "format" : "strict_date_optional_time||epoch_millis||yyyy-M-dd'T'HH:mm:ss.SSSZ"
            }
          }
        },
        {
          "crafterSite": {
            "match": "crafterSite",
            "mapping": {
              "type": "keyword"
            }
          }
        },
        {
          "localId": {
            "match": "localId",
            "mapping": {
              "type": "keyword"
            }
          }
        },
        {
          "id": {
            "match": "id",
            "mapping": {
              "type": "keyword"
            }
          }
        },
        {
          "rootId": {
            "match": "rootId",
            "mapping": {
              "type": "keyword"
            }
          }
        },
        {
          "objectId": {
            "match": "objectId",
            "mapping": {
              "type": "keyword"
            }
          }
        },
        {
          "objectGroupId": {
            "match": "objectGroupId",
            "mapping": {
              "type": "keyword"
            }
          }
        },
        {
          "merge-strategy": {
            "match": "merge-strategy",
            "mapping": {
              "type": "keyword"
            }
          }
        },
        {
          "content-type": {
            "match": "content-type",
            "mapping": {
              "type": "keyword"
            }
          }
        },
        {
          "internal-name": {
            "match": "internal-name",
            "mapping": {
              "type": "keyword"
            }
          }
        },
        {
          "file-name": {
            "match": "file-name",
            "mapping": {
              "type": "keyword"
            }
          }
        },
        {
          "includedDescriptors": {
            "match": "includedDescriptors",
            "mapping": {
              "type": "keyword"
            }
          }
        },
        {
          "crafterPublishedDate": {
            "match": "crafterPublishedDate",
            "mapping": {
              "type": "keyword"
            }
          }
        },
        {
          "createdDate": {
            "match": "createdDate",
            "mapping": {
              "type": "keyword"
            }
          }
        },
        {
          "lastModifiedDate": {
            "match": "lastModifiedDate",
            "mapping": {
              "type": "keyword"
            }
          }
        },
        {
          "disabled": {
            "match": "disabled",
            "mapping": {
              "type": "boolean"
            }
          }
        },
        {
          "disableFlattening": {
            "match": "disableFlattening",
            "mapping": {
              "type": "boolean"
            }
          }
        },
        {
          "includeKeys": {
            "path_match": "*.item.key",
            "mapping": {
              "type": "keyword"
            }
          }
        },
        {
          "includeValues": {
            "path_match": "*.item.value",
            "mapping": {
              "type": "keyword"
            }
          }
        },
        {
          "placeInNav": {
            "match": "placeInNav",
            "mapping": {
              "type": "boolean"
            }
          }
        },
        {
          "display-template": {
            "match": "display-template",
            "mapping": {
              "type": "keyword"
            }
          }
        },
        {
          "title": {
            "match": "title",
            "mapping": {
              "type": "keyword",
              "copy_to": "_text_"
            }
          }
        },
        {
          "content": {
            "match": "content",
            "mapping": {
              "type": "text",
              "copy_to": "_text_"
            }
          }
        },
        {
          "content": {
            "match": "content",
            "mapping": {
              "type": "text",
              "copy_to": "_text_"
            }
          }
        },
        {
          "includes": {
            "match": "include",
            "mapping": {
              "type": "keyword",
              "copy_to": "includedDescriptors"
            }
          }
        }
      ]
    }
  }
}